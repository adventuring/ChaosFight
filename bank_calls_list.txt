Bank-Crossing gosub Calls (Cannot be optimized to tail calls)
======================================================================

Total bank-crossing calls found: 82

By Bank:
----------------------------------------------------------------------

Bank 2 (1 calls):
  Source/Routines/SpriteLoaderCharacterArt.bas:42
    gosub bank2 SetPlayerCharacterArtBank2

Bank 3 (1 calls):
  Source/Routines/SpriteLoaderCharacterArt.bas:54
    gosub bank3 SetPlayerCharacterArtBank3

Bank 4 (1 calls):
  Source/Routines/SpriteLoaderCharacterArt.bas:66
    gosub bank4 SetPlayerCharacterArtBank4

Bank 5 (1 calls):
  Source/Routines/SpriteLoaderCharacterArt.bas:78
    gosub bank5 SetPlayerCharacterArtBank5

Bank 6 (6 calls):
  Source/Routines/MissileCollision.bas:56
    gosub bank6 GetMissileWidth
  Source/Routines/MissileCollision.bas:86
    gosub bank6 GetMissileWidth
  Source/Routines/MissileCollision.bas:91
    gosub bank6 GetMissileHeight
  Source/Routines/MissileSystem.bas:128
    gosub bank6 GetMissileMomentumX
  Source/Routines/MissileSystem.bas:133
    gosub bank6 GetMissileMomentumY
  Source/Routines/MissileSystem.bas:146
    gosub bank6 GetMissileFlags

Bank 7 (6 calls):
  Source/Routines/Combat.bas:159
    gosub bank7 SpawnMissile
  Source/Routines/Combat.bas:181
    gosub bank7 SpawnMissile
  Source/Routines/GameLoopMain.bas:67
    gosub bank7 UpdateAllMissiles
  Source/Routines/MissileSystem.bas:165
    gosub bank7 MissileCollPF
  Source/Routines/MissileSystem.bas:173
    gosub bank7 CheckAllMissileCollisions
  Source/Routines/WinnerAnnouncement.bas:13
    gosub bank7 DisplayWinScreen

Bank 8 (17 calls):
  Source/Routines/Combat.bas:140
    gosub bank8 VisualShowDamageIndicator
  Source/Routines/FrameBudgeting.bas:62
    gosub bank8 UpdateHealthBarPlayer2
  Source/Routines/FrameBudgeting.bas:70
    gosub bank8 UpdateHealthBarPlayer3
  Source/Routines/FrameBudgeting.bas:81
    gosub bank8 DrawHealthBarRow0
  Source/Routines/FrameBudgeting.bas:90
    gosub bank8 DrawHealthBarRow1
  Source/Routines/FrameBudgeting.bas:99
    gosub bank8 DrawHealthBarRow2
  Source/Routines/FrameBudgeting.bas:108
    gosub bank8 DrawHealthBarRow3
  Source/Routines/GameLoopInit.bas:33
    gosub bank8 SetGameScreenLayout
  Source/Routines/GameLoopInit.bas:146
    gosub bank8 InitializeHealthBars
  Source/Routines/GameLoopMain.bas:83
    gosub bank8 UpdatePlayer12HealthBars
  Source/Routines/GameLoopMain.bas:86
    gosub bank8 UpdatePlayer34HealthBars
  Source/Routines/MissileSystem.bas:393
    gosub bank8 VisualShowDamageIndicator
  Source/Routines/PlayerRendering.bas:249
    gosub bank8 DrawHealthBars
  Source/Routines/PlayerRendering.bas:282
    gosub bank8 DrawHealthBarRow0
  Source/Routines/PlayerRendering.bas:294
    gosub bank8 DrawHealthBarRow1
  Source/Routines/PlayerRendering.bas:306
    gosub bank8 DrawHealthBarRow2
  Source/Routines/PlayerRendering.bas:316
    gosub bank8 DrawHealthBarRow3

Bank 9 (3 calls):
  Source/Routines/MainLoop.bas:5
    gosub bank9 PublisherPreamble
  Source/Routines/MainLoop.bas:6
    gosub bank9 AuthorPreamble
  Source/Routines/MainLoop.bas:7
    gosub bank9 TitleScreenMain

Bank 10 (12 calls):
  Source/Routines/AnimationSystem.bas:77
    gosub bank10 LoadPlayerSprite
  Source/Routines/AnimationSystem.bas:103
    gosub bank10 LoadPlayerSprite
  Source/Routines/LevelSelect.bas:147
    gosub bank10 LoadCharacterSprite
  Source/Routines/LevelSelect.bas:159
    gosub bank10 LoadCharacterSprite
  Source/Routines/LevelSelect.bas:172
    gosub bank10 LoadCharacterSprite
  Source/Routines/LevelSelect.bas:185
    gosub bank10 LoadCharacterSprite
  Source/Routines/MainLoop.bas:8
    gosub bank10 CharacterSelectInputEntry
  Source/Routines/PlayerRendering.bas:142
    gosub bank10 LoadCharacterColors
  Source/Routines/PlayerRendering.bas:157
    gosub bank10 LoadCharacterSprite
  Source/Routines/PlayerRendering.bas:165
    gosub bank10 LoadCharacterColors
  Source/Routines/PlayerRendering.bas:180
    gosub bank10 LoadCharacterSprite
  Source/Routines/SpriteLoader.bas:266
    gosub bank10 LocateCharacterArt

Bank 11 (1 calls):
  Source/Routines/MainLoop.bas:11
    gosub bank11 GameMainLoop

Bank 12 (4 calls):
  Source/Routines/MainLoop.bas:9
    gosub bank12 FallingAnimation1
  Source/Routines/MainLoop.bas:10
    gosub bank12 LevelSelect1
  Source/Routines/MainLoop.bas:12
    gosub bank12 WinnerAnnouncement
  Source/Routines/MainLoop.bas:13
    gosub bank12 AttractMode

Bank 13 (10 calls):
  Source/Routines/AttractMode.bas:18
    gosub bank13 ChangeGameMode
  Source/Routines/AuthorPreamble.bas:66
    gosub bank13 ChangeGameMode
  Source/Routines/ColdStart.bas:26
    gosub bank13 ChangeGameMode
  Source/Routines/FallingAnimation.bas:110
    gosub bank13 ChangeGameMode
  Source/Routines/LevelSelect.bas:43
    gosub bank13 ChangeGameMode
  Source/Routines/LevelSelect.bas:48
    gosub bank13 ChangeGameMode
  Source/Routines/PublisherPreamble.bas:58
    gosub bank13 ChangeGameMode
  Source/Routines/TitleScreenMain.bas:56
    gosub bank13 ChangeGameMode
  Source/Routines/TitleScreenMain.bas:61
    gosub bank13 ChangeGameMode
  Source/Routines/WinnerAnnouncement.bas:34
    gosub bank13 ChangeGameMode

Bank 14 (4 calls):
  Source/Routines/ColdStart.bas:11
    gosub bank14 ConsoleDetHW
  Source/Routines/ConsoleHandling.bas:29
    gosub bank14 DetectControllers
  Source/Routines/ConsoleHandling.bas:44
    gosub bank14 DetectControllers
  Source/Routines/ConsoleHandling.bas:73
    gosub bank14 DetectControllers

Bank 15 (9 calls):
  Source/Routines/Combat.bas:146
    gosub bank15 PlaySoundEffect
  Source/Routines/FallDamage.bas:130
    gosub bank15 PlaySoundEffect
  Source/Routines/FallDamage.bas:297
    gosub bank15 SpawnMissile
  Source/Routines/FrameBudgeting.bas:249
    gosub bank15 CheckAllMissileCollisions
  Source/Routines/FrameBudgeting.bas:261
    gosub bank15 CheckAllMissileCollisions
  Source/Routines/MainLoop.bas:20
    gosub bank15 PlaySoundEffect
  Source/Routines/MissileSystem.bas:366
    gosub bank15 PlaySoundEffect
  Source/Routines/MissileSystem.bas:390
    gosub bank15 PlaySoundEffect
  Source/Routines/PlayerElimination.bas:87
    gosub bank15 PlaySoundEffect

Bank 16 (6 calls):
  Source/Routines/AuthorPreamble.bas:51
    gosub bank16 UpdateMusic
  Source/Routines/BeginAuthorPrelude.bas:20
    gosub bank16 StartMusic
  Source/Routines/MainLoop.bas:17
    gosub bank16 UpdateMusic
  Source/Routines/MainLoop.bas:18
    gosub bank16 UpdateMusic
  Source/Routines/MainLoop.bas:19
    gosub bank16 UpdateMusic
  Source/Routines/PublisherPreamble.bas:45
    gosub bank16 UpdateMusic


By File:
----------------------------------------------------------------------

Source/Routines/AnimationSystem.bas:
  Line   77: gosub bank10 LoadPlayerSprite
  Line  103: gosub bank10 LoadPlayerSprite

Source/Routines/AttractMode.bas:
  Line   18: gosub bank13 ChangeGameMode

Source/Routines/AuthorPreamble.bas:
  Line   51: gosub bank16 UpdateMusic
  Line   66: gosub bank13 ChangeGameMode

Source/Routines/BeginAuthorPrelude.bas:
  Line   20: gosub bank16 StartMusic

Source/Routines/ColdStart.bas:
  Line   11: gosub bank14 ConsoleDetHW
  Line   26: gosub bank13 ChangeGameMode

Source/Routines/Combat.bas:
  Line  140: gosub bank8 VisualShowDamageIndicator
  Line  146: gosub bank15 PlaySoundEffect
  Line  159: gosub bank7 SpawnMissile
  Line  181: gosub bank7 SpawnMissile

Source/Routines/ConsoleHandling.bas:
  Line   29: gosub bank14 DetectControllers
  Line   44: gosub bank14 DetectControllers
  Line   73: gosub bank14 DetectControllers

Source/Routines/FallDamage.bas:
  Line  130: gosub bank15 PlaySoundEffect
  Line  297: gosub bank15 SpawnMissile

Source/Routines/FallingAnimation.bas:
  Line  110: gosub bank13 ChangeGameMode

Source/Routines/FrameBudgeting.bas:
  Line   62: gosub bank8 UpdateHealthBarPlayer2
  Line   70: gosub bank8 UpdateHealthBarPlayer3
  Line   81: gosub bank8 DrawHealthBarRow0
  Line   90: gosub bank8 DrawHealthBarRow1
  Line   99: gosub bank8 DrawHealthBarRow2
  Line  108: gosub bank8 DrawHealthBarRow3
  Line  249: gosub bank15 CheckAllMissileCollisions
  Line  261: gosub bank15 CheckAllMissileCollisions

Source/Routines/GameLoopInit.bas:
  Line   33: gosub bank8 SetGameScreenLayout
  Line  146: gosub bank8 InitializeHealthBars

Source/Routines/GameLoopMain.bas:
  Line   67: gosub bank7 UpdateAllMissiles
  Line   83: gosub bank8 UpdatePlayer12HealthBars
  Line   86: gosub bank8 UpdatePlayer34HealthBars

Source/Routines/LevelSelect.bas:
  Line   43: gosub bank13 ChangeGameMode
  Line   48: gosub bank13 ChangeGameMode
  Line  147: gosub bank10 LoadCharacterSprite
  Line  159: gosub bank10 LoadCharacterSprite
  Line  172: gosub bank10 LoadCharacterSprite
  Line  185: gosub bank10 LoadCharacterSprite

Source/Routines/MainLoop.bas:
  Line    5: gosub bank9 PublisherPreamble
  Line    6: gosub bank9 AuthorPreamble
  Line    7: gosub bank9 TitleScreenMain
  Line    8: gosub bank10 CharacterSelectInputEntry
  Line    9: gosub bank12 FallingAnimation1
  Line   10: gosub bank12 LevelSelect1
  Line   11: gosub bank11 GameMainLoop
  Line   12: gosub bank12 WinnerAnnouncement
  Line   13: gosub bank12 AttractMode
  Line   17: gosub bank16 UpdateMusic
  Line   18: gosub bank16 UpdateMusic
  Line   19: gosub bank16 UpdateMusic
  Line   20: gosub bank15 PlaySoundEffect

Source/Routines/MissileCollision.bas:
  Line   56: gosub bank6 GetMissileWidth
  Line   86: gosub bank6 GetMissileWidth
  Line   91: gosub bank6 GetMissileHeight

Source/Routines/MissileSystem.bas:
  Line  128: gosub bank6 GetMissileMomentumX
  Line  133: gosub bank6 GetMissileMomentumY
  Line  146: gosub bank6 GetMissileFlags
  Line  165: gosub bank7 MissileCollPF
  Line  173: gosub bank7 CheckAllMissileCollisions
  Line  366: gosub bank15 PlaySoundEffect
  Line  390: gosub bank15 PlaySoundEffect
  Line  393: gosub bank8 VisualShowDamageIndicator

Source/Routines/PlayerElimination.bas:
  Line   87: gosub bank15 PlaySoundEffect

Source/Routines/PlayerRendering.bas:
  Line  142: gosub bank10 LoadCharacterColors
  Line  157: gosub bank10 LoadCharacterSprite
  Line  165: gosub bank10 LoadCharacterColors
  Line  180: gosub bank10 LoadCharacterSprite
  Line  249: gosub bank8 DrawHealthBars
  Line  282: gosub bank8 DrawHealthBarRow0
  Line  294: gosub bank8 DrawHealthBarRow1
  Line  306: gosub bank8 DrawHealthBarRow2
  Line  316: gosub bank8 DrawHealthBarRow3

Source/Routines/PublisherPreamble.bas:
  Line   45: gosub bank16 UpdateMusic
  Line   58: gosub bank13 ChangeGameMode

Source/Routines/SpriteLoader.bas:
  Line  266: gosub bank10 LocateCharacterArt

Source/Routines/SpriteLoaderCharacterArt.bas:
  Line   42: gosub bank2 SetPlayerCharacterArtBank2
  Line   54: gosub bank3 SetPlayerCharacterArtBank3
  Line   66: gosub bank4 SetPlayerCharacterArtBank4
  Line   78: gosub bank5 SetPlayerCharacterArtBank5

Source/Routines/TitleScreenMain.bas:
  Line   56: gosub bank13 ChangeGameMode
  Line   61: gosub bank13 ChangeGameMode

Source/Routines/WinnerAnnouncement.bas:
  Line   13: gosub bank7 DisplayWinScreen
  Line   34: gosub bank13 ChangeGameMode


EXCLUSION LIST (for tail call optimization):
----------------------------------------------------------------------
All gosub bankN calls must be excluded from tail call optimization
because they cross bank boundaries.

Pattern to exclude:
  gosub bank[0-9]+ FunctionName

Examples:
  Source/Routines/FallingAnimation.bas:110 - gosub bank13 ChangeGameMode
  Source/Routines/MainLoop.bas:5 - gosub bank9 PublisherPreamble
  Source/Routines/MainLoop.bas:6 - gosub bank9 AuthorPreamble
  Source/Routines/MainLoop.bas:7 - gosub bank9 TitleScreenMain
  Source/Routines/MainLoop.bas:8 - gosub bank10 CharacterSelectInputEntry
  Source/Routines/MainLoop.bas:9 - gosub bank12 FallingAnimation1
  Source/Routines/MainLoop.bas:10 - gosub bank12 LevelSelect1
  Source/Routines/MainLoop.bas:11 - gosub bank11 GameMainLoop
  Source/Routines/MainLoop.bas:12 - gosub bank12 WinnerAnnouncement
  Source/Routines/MainLoop.bas:13 - gosub bank12 AttractMode
